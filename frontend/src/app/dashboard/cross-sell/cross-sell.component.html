<div class="container my-5">
	<!-- Header -->
	<div class="d-flex justify-content-between align-items-center mb-4">
		<h3 class="fw-bold">Recommended Products</h3>
		<!-- USER ADMIN ONLY -->
		<button *ngIf="userIsAdmin" class="btn btn-success" (click)="openModal()">âž• Add Product</button>
	</div>

	<!-- Product Grid -->
	<div class="row g-4">
		<div class="col-md-3" *ngFor="let product of products">
			<div class="card h-100 shadow-sm">
				<div class="card-body text-center">
					<h6 class="card-title">{{ product.name }}</h6>
					<p>{{ product.description }}</p>
					<p class="fw-bold text-success">$ {{ product.price }}</p>
					<button class="btn btn-primary btn-sm" (click)="addToCart(product)">Add</button>
				</div>
			</div>
		</div>
	</div>
</div>

<!-- ================= MODAL ================= -->

<div #addProductModal class="modal fade" tabindex="-1" aria-hidden="true">
	<div class="modal-dialog modal-dialog-centered">
		<div class="modal-content">
			<div class="modal-header">
				<h5 class="modal-title">Add New Product</h5>
				<button type="button" class="btn-close" (click)="closeModal()"></button>
			</div>

			<div class="modal-body">
				<div class="mb-3">
					<label class="form-label">Product Name</label>
					<input type="text" class="form-control" [(ngModel)]="newProduct.name" />
				</div>

				<div class="mb-3">
					<label class="form-label">Price</label>
					<input type="number" class="form-control" [(ngModel)]="newProduct.price" />
				</div>

				<div class="mb-3">
					<label class="form-label">Description</label>
					<input type="text" class="form-control" [(ngModel)]="newProduct.description" />
				</div>
			</div>

			<div class="modal-footer">
				<button class="btn btn-secondary" (click)="closeModal()">Cancel</button>
				<button class="btn btn-success" (click)="addProduct()">Save Product</button>
			</div>
		</div>
	</div>
</div>
